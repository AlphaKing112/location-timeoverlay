<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Set Location</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
    }
    label, input, button {
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h2>Set Your City</h2>
  <label for="city">City:</label>
  <input id="city" type="text" placeholder="e.g. Los Angeles" />
  <button onclick="saveCity()">Save</button>
  <p id="status"></p>

  <script>
  const channel = new BroadcastChannel("location_channel");

  function saveCity() {
    const city = document.getElementById("city").value.trim();
    if (!city) return alert("Please enter a city.");
    localStorage.setItem("city", city);
    channel.postMessage({ type: "city-updated" });
    document.getElementById("status").textContent = `City saved: ${city}`;
  }
</script>
</body>
</html>
